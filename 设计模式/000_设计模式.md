## 设计思路

    1. Spring IOC 工厂、单例、装饰器
    2. Spring AOP 代理、观察者
    3. Spring MVC 委派、适配器
    4. Spring JDBC 模版方法

按照如上思路来串行讲解Spring中的设计模式。

* 工厂模式 BeanFactory
* 单例模式 ApplicationContext
* 装饰器模式 BeanWrapper
* 代理模式 AopProxy
* 观察者模式 ContextLoaderListener
* 委派模式 DispatcherServlet
* 适配器模式 HandlerApdapter
* 模版方法模式 JdbcTemplate

软件设计七大原则：

| 设计原则 | 解释|
| :------ | ---- |
| 开闭原则     | 对扩展开放，对修改关闭。|
| 依赖倒置原则 | 通过抽象使各个类或者模块不相互影响，实现松耦合。|
| 单一职责原则 | 一个类、接口、方法只做一件事。|
| 接口隔离原则 | 尽量保证接口的纯洁性，客户端不应该依赖不需要的接口。|
| 迪米特法则 | 又叫最少知道原则，一个类对其所依赖的类知道得越少越好。|
| 里氏替换原则 | 子类可以扩展父类的功能但不能改变父类原有的功能|
| 合成复用原则 | 尽量使用对象组合、聚合，而不使用继承关系达到代码复用的目的。|



### 开闭原则

> 指一个软件实体如类、模块和函数应该对扩展开放，对修改关闭。所谓的开闭，正是对扩展和修改两个行为的一个原则。
强调的是用抽象构建框架，用实现扩展细节。可以提高软件系统的可复用性及可维护性。
开闭原则，是面向对象设计中最基础的设计原则。在版本更新，尽可能不修改源代码，通过扩展增加新功能。
实现开闭原则的核心思想就是面向抽象编程，即实体应当通过扩展实现变化，而不是修改代码实现变化。

当书店里销售书籍
```java
public interface IBook {

    String getName();

    String getAuthor();

    double getPrice();
}
```
销售Java类书籍
```java
public class JavaBook implements IBook {

    private String name;
    private String author;
    private double price;

    public JavaBook(String name, String author, double price) {
        this.name = name;
        this.author = author;
        this.price = price;

    }

    @Override
    public String getName() {
        return this.name;
    }

    @Override
    public String getAuthor() {
        return this.author;
    }

    @Override
    public double getPrice() {
        return this.price;
    }
}
```
当给Java类书籍做活动时，如果修改 JavaBook 中的 getPrice() 方法，则会存在一定的风险，可能影响其他地方的调用结果。我们在不修改原有代
码前提前下，写一个处理优惠逻辑的类（ DiscountJavaBook ），这样降低系统的耦合性，不影响其它流程。
```java
public class DiscountJavaBook extends JavaBook {

    public DiscountJavaBook(String name, String author, double price) {
        super(name, author, price);
    }
    
    public double getOriginPrice() {
        return super.getPrice();
    }

    @Override
    public double getPrice() {
        return super.getPrice() * 0.8;
    }
}
```
类结构图，如下：

![GitHub](https://raw.githubusercontent.com/crazy-xu/Java-Tech-Note/master/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/image/OCP_%E5%BC%80%E9%97%AD%E5%8E%9F%E5%88%99.png "开闭原则类结构图")

### 依赖倒置原则
> 指设计代码结构时，高层模块不应该依赖底层模块，二者都应该依赖其抽象。


















### 单一职责原则

### 接口隔离原则

### 迪米特法则

### 里式替换原则

### 合成复用原则

### 设计原则总结


